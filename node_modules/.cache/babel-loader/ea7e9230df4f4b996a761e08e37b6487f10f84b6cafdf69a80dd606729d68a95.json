{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_BASE_URL;const ManageContacts=()=>{const[contacts,setContacts]=useState([]);const[number,setNumber]=useState('');const navigate=useNavigate();const fetchContacts=async()=>{const res=await axios.get(\"\".concat(API_BASE_URL,\"/api/foods/contacts\"));setContacts(res.data.contacts||[]);};useEffect(()=>{fetchContacts();},[]);const handleAdd=async e=>{e.preventDefault();const token=localStorage.getItem('adminToken');try{await axios.post(\"\".concat(API_BASE_URL,\"/api/foods/contacts/add\"),{number},{headers:{Authorization:\"Bearer \".concat(token)}});setNumber('');fetchContacts();}catch(err){var _err$response,_err$response$data;alert(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Failed to add contact.\");}};const handleDelete=async id=>{const token=localStorage.getItem('adminToken');if(window.confirm(\"Delete this contact?\")){await axios.delete(\"\".concat(API_BASE_URL,\"/api/foods/contacts/\").concat(id),{headers:{Authorization:\"Bearer \".concat(token)}});fetchContacts();}};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:400,margin:'60px auto',padding:24,borderRadius:12,boxShadow:'0 2px 12px #eee',background:'#fff'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Manage Contact Numbers\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAdd,style:{display:'flex',gap:8,marginBottom:20},children:[/*#__PURE__*/_jsx(\"input\",{value:number,onChange:e=>setNumber(e.target.value),placeholder:\"Contact Number\",required:true,style:{flex:1,padding:8,borderRadius:6,border:'1px solid #ccc'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{padding:'8px 16px',borderRadius:6,background:'#222',color:'#fff',border:'none'},children:\"Add\"})]}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0},children:contacts.map(c=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:10,display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{children:c.number}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(c._id),style:{background:'#e74c3c',color:'#fff',border:'none',borderRadius:4,padding:'4px 10px',cursor:'pointer'},children:\"Delete\"})]},c._id))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/admin-panel'),style:{marginTop:20,background:'#aaa',color:'#222',border:'none',borderRadius:6,padding:'8px 16px',cursor:'pointer'},children:\"Back\"})]});};export default ManageContacts;","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","ManageContacts","contacts","setContacts","number","setNumber","navigate","fetchContacts","res","get","concat","data","handleAdd","e","preventDefault","token","localStorage","getItem","post","headers","Authorization","err","_err$response","_err$response$data","alert","response","message","handleDelete","id","window","confirm","delete","style","maxWidth","margin","padding","borderRadius","boxShadow","background","children","onSubmit","display","gap","marginBottom","value","onChange","target","placeholder","required","flex","border","type","color","listStyle","map","c","justifyContent","alignItems","onClick","_id","cursor","marginTop"],"sources":["C:/Users/prince kumar/Desktop/ProjectRest/Frontend/frontend/src/pages/ManageContacts.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL;\r\n\r\nconst ManageContacts = () => {\r\n  const [contacts, setContacts] = useState([]);\r\n  const [number, setNumber] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const fetchContacts = async () => {\r\n    const res = await axios.get(`${API_BASE_URL}/api/foods/contacts`);\r\n    setContacts(res.data.contacts || []);\r\n  };\r\n\r\n  useEffect(() => { fetchContacts(); }, []);\r\n\r\n  const handleAdd = async (e) => {\r\n    e.preventDefault();\r\n    const token = localStorage.getItem('adminToken');\r\n    try {\r\n      await axios.post(`${API_BASE_URL}/api/foods/contacts/add`, { number }, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setNumber('');\r\n      fetchContacts();\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || \"Failed to add contact.\");\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    const token = localStorage.getItem('adminToken');\r\n    if (window.confirm(\"Delete this contact?\")) {\r\n      await axios.delete(`${API_BASE_URL}/api/foods/contacts/${id}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      fetchContacts();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 400, margin: '60px auto', padding: 24, borderRadius: 12, boxShadow: '0 2px 12px #eee', background: '#fff' }}>\r\n      <h2>Manage Contact Numbers</h2>\r\n      <form onSubmit={handleAdd} style={{ display: 'flex', gap: 8, marginBottom: 20 }}>\r\n        <input\r\n          value={number}\r\n          onChange={e => setNumber(e.target.value)}\r\n          placeholder=\"Contact Number\"\r\n          required\r\n          style={{ flex: 1, padding: 8, borderRadius: 6, border: '1px solid #ccc' }}\r\n        />\r\n        <button type=\"submit\" style={{ padding: '8px 16px', borderRadius: 6, background: '#222', color: '#fff', border: 'none' }}>Add</button>\r\n      </form>\r\n      <ul style={{ listStyle: 'none', padding: 0 }}>\r\n        {contacts.map(c => (\r\n          <li key={c._id} style={{ marginBottom: 10, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <span>{c.number}</span>\r\n            <button onClick={() => handleDelete(c._id)} style={{ background: '#e74c3c', color: '#fff', border: 'none', borderRadius: 4, padding: '4px 10px', cursor: 'pointer' }}>Delete</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <button onClick={() => navigate('/admin-panel')} style={{ marginTop: 20, background: '#aaa', color: '#222', border: 'none', borderRadius: 6, padding: '8px 16px', cursor: 'pointer' }}>Back</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManageContacts;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAC/C,KAAM,CAAAC,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,CAEvD,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACc,MAAM,CAAEC,SAAS,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAAAgB,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAe,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAjB,KAAK,CAACkB,GAAG,IAAAC,MAAA,CAAIb,YAAY,uBAAqB,CAAC,CACjEM,WAAW,CAACK,GAAG,CAACG,IAAI,CAACT,QAAQ,EAAI,EAAE,CAAC,CACtC,CAAC,CAEDb,SAAS,CAAC,IAAM,CAAEkB,aAAa,CAAC,CAAC,CAAE,CAAC,CAAE,EAAE,CAAC,CAEzC,KAAM,CAAAK,SAAS,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC7BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAChD,GAAI,CACF,KAAM,CAAA1B,KAAK,CAAC2B,IAAI,IAAAR,MAAA,CAAIb,YAAY,4BAA2B,CAAEO,MAAO,CAAC,CAAE,CACrEe,OAAO,CAAE,CAAEC,aAAa,WAAAV,MAAA,CAAYK,KAAK,CAAG,CAC9C,CAAC,CAAC,CACFV,SAAS,CAAC,EAAE,CAAC,CACbE,aAAa,CAAC,CAAC,CACjB,CAAE,MAAOc,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZC,KAAK,CAAC,EAAAF,aAAA,CAAAD,GAAG,CAACI,QAAQ,UAAAH,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcX,IAAI,UAAAY,kBAAA,iBAAlBA,kBAAA,CAAoBG,OAAO,GAAI,wBAAwB,CAAC,CAChE,CACF,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAC,EAAE,EAAK,CACjC,KAAM,CAAAb,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAChD,GAAIY,MAAM,CAACC,OAAO,CAAC,sBAAsB,CAAC,CAAE,CAC1C,KAAM,CAAAvC,KAAK,CAACwC,MAAM,IAAArB,MAAA,CAAIb,YAAY,yBAAAa,MAAA,CAAuBkB,EAAE,EAAI,CAC7DT,OAAO,CAAE,CAAEC,aAAa,WAAAV,MAAA,CAAYK,KAAK,CAAG,CAC9C,CAAC,CAAC,CACFR,aAAa,CAAC,CAAC,CACjB,CACF,CAAC,CAED,mBACEX,KAAA,QAAKoC,KAAK,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,MAAM,CAAE,WAAW,CAAEC,OAAO,CAAE,EAAE,CAAEC,YAAY,CAAE,EAAE,CAAEC,SAAS,CAAE,iBAAiB,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAC,QAAA,eAClI7C,IAAA,OAAA6C,QAAA,CAAI,wBAAsB,CAAI,CAAC,cAC/B3C,KAAA,SAAM4C,QAAQ,CAAE5B,SAAU,CAACoB,KAAK,CAAE,CAAES,OAAO,CAAE,MAAM,CAAEC,GAAG,CAAE,CAAC,CAAEC,YAAY,CAAE,EAAG,CAAE,CAAAJ,QAAA,eAC9E7C,IAAA,UACEkD,KAAK,CAAExC,MAAO,CACdyC,QAAQ,CAAEhC,CAAC,EAAIR,SAAS,CAACQ,CAAC,CAACiC,MAAM,CAACF,KAAK,CAAE,CACzCG,WAAW,CAAC,gBAAgB,CAC5BC,QAAQ,MACRhB,KAAK,CAAE,CAAEiB,IAAI,CAAE,CAAC,CAAEd,OAAO,CAAE,CAAC,CAAEC,YAAY,CAAE,CAAC,CAAEc,MAAM,CAAE,gBAAiB,CAAE,CAC3E,CAAC,cACFxD,IAAA,WAAQyD,IAAI,CAAC,QAAQ,CAACnB,KAAK,CAAE,CAAEG,OAAO,CAAE,UAAU,CAAEC,YAAY,CAAE,CAAC,CAAEE,UAAU,CAAE,MAAM,CAAEc,KAAK,CAAE,MAAM,CAAEF,MAAM,CAAE,MAAO,CAAE,CAAAX,QAAA,CAAC,KAAG,CAAQ,CAAC,EAClI,CAAC,cACP7C,IAAA,OAAIsC,KAAK,CAAE,CAAEqB,SAAS,CAAE,MAAM,CAAElB,OAAO,CAAE,CAAE,CAAE,CAAAI,QAAA,CAC1CrC,QAAQ,CAACoD,GAAG,CAACC,CAAC,eACb3D,KAAA,OAAgBoC,KAAK,CAAE,CAAEW,YAAY,CAAE,EAAE,CAAEF,OAAO,CAAE,MAAM,CAAEe,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAlB,QAAA,eAClH7C,IAAA,SAAA6C,QAAA,CAAOgB,CAAC,CAACnD,MAAM,CAAO,CAAC,cACvBV,IAAA,WAAQgE,OAAO,CAAEA,CAAA,GAAM/B,YAAY,CAAC4B,CAAC,CAACI,GAAG,CAAE,CAAC3B,KAAK,CAAE,CAAEM,UAAU,CAAE,SAAS,CAAEc,KAAK,CAAE,MAAM,CAAEF,MAAM,CAAE,MAAM,CAAEd,YAAY,CAAE,CAAC,CAAED,OAAO,CAAE,UAAU,CAAEyB,MAAM,CAAE,SAAU,CAAE,CAAArB,QAAA,CAAC,QAAM,CAAQ,CAAC,GAF9KgB,CAAC,CAACI,GAGP,CACL,CAAC,CACA,CAAC,cACLjE,IAAA,WAAQgE,OAAO,CAAEA,CAAA,GAAMpD,QAAQ,CAAC,cAAc,CAAE,CAAC0B,KAAK,CAAE,CAAE6B,SAAS,CAAE,EAAE,CAAEvB,UAAU,CAAE,MAAM,CAAEc,KAAK,CAAE,MAAM,CAAEF,MAAM,CAAE,MAAM,CAAEd,YAAY,CAAE,CAAC,CAAED,OAAO,CAAE,UAAU,CAAEyB,MAAM,CAAE,SAAU,CAAE,CAAArB,QAAA,CAAC,MAAI,CAAQ,CAAC,EACjM,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtC,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}